(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52e25f7e"],{"06e5":function(e,t,c){},"34eb":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),i=function(e){return Object(n["pushScopeId"])("data-v-025e0fb6"),e=e(),Object(n["popScopeId"])(),e},a={class:"scenic-spot"},o={class:"container-fluid header-bg position-relative py-3"},r=Object(n["createTextVNode"])(" Welcome to "),l=i((function(){return Object(n["createElementVNode"])("span",{class:"text-primary"},"Taiwan°",-1)})),s=[r,l],u=i((function(){return Object(n["createElementVNode"])("p",{class:"subtitle-1 text-left"}," 臺北、臺中、臺南、屏東、宜蘭……遊遍臺灣 ",-1)})),d={class:"d-flex align-items-center"},b=["disabled"],p=i((function(){return Object(n["createElementVNode"])("span",{class:"mdi mdi-24px mdi-search-web"},null,-1)})),m=[p],h={class:"d-flex align-items-center mt-2"},f={class:"d-flex w-100"},O=i((function(){return Object(n["createElementVNode"])("option",{disabled:""},"類別",-1)})),j=i((function(){return Object(n["createElementVNode"])("option",{selected:"",value:"scenicSpot"},"景點",-1)})),y=i((function(){return Object(n["createElementVNode"])("option",{value:"activity"},"活動",-1)})),g=[O,j,y],v=i((function(){return Object(n["createElementVNode"])("option",{selected:"",value:"all"},"不分縣市",-1)})),S=["value"],N=i((function(){return Object(n["createElementVNode"])("span",{class:"mdi mdi-24px mdi-map-marker"},null,-1)})),V=[N];function w(e,t,c,i,r,l){var p=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["scenic-spot-bg",r.headerBg])},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["container w-50 text-white",{"w-100":e.isMobile}])},[Object(n["createElementVNode"])("h2",{class:Object(n["normalizeClass"])(["h1 font-weight-bold",{"text-center":e.isMobile}])},s,2),u,Object(n["createElementVNode"])("div",d,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入想去的縣市 例: 臺中市","aria-label":"請輸入想去的縣市 例: 臺中市","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.searchInput=e}),onKeyup:t[1]||(t[1]=Object(n["withKeys"])((function(){return l.searchData&&l.searchData.apply(l,arguments)}),["enter"]))},null,544),[[n["vModelText"],r.searchInput]]),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary ml-2",onClick:t[2]||(t[2]=function(){return l.searchData&&l.searchData.apply(l,arguments)}),disabled:!r.searchInput},m,8,b)]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",f,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{class:"custom-select select-icon mr-1","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.categorySelect=e})},g,512),[[n["vModelSelect"],r.categorySelect]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{class:"custom-select select-icon","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.citySelect=e})},[v,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.citiesName,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:e,value:e.en},Object(n["toDisplayString"])(e.ch),9,S)})),128))],512),[[n["vModelSelect"],r.citySelect]])]),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-warning ml-2 text-white",onClick:t[5]||(t[5]=function(){return l.locate&&l.locate.apply(l,arguments)})},V)])],2)],2)]),Object(n["createVNode"])(p)])}var E=c("5530"),D=(c("d3b7"),c("99af"),c("7db0"),c("5502")),x=(new Date).getHours(),k={name:"ScenicSpot",computed:Object(E["a"])({},Object(D["c"])({isMobile:"isMobile",citiesName:"cityOptions"})),data:function(){return{citySelect:"all",categorySelect:"scenicSpot",searchInput:"",headerBg:{"bg-moring":x>0&&x<12,"bg-afternoon":x>=12&&x<15,"bg-evening":x>=15&&x<18,"bg-night":x>=18||0===x}}},methods:Object(E["a"])(Object(E["a"])({},Object(D["b"])(["setIsLoading"])),{},{toCityDetail:function(){"scenicSpot"===this.categorySelect?this.$router.push({name:"ScenicSpotDetail",params:{city:this.citySelect}}):this.$router.push({name:"ActivitiesDetail",params:{city:this.citySelect}})},searchData:function(){this.$router.push({name:"scenicSearch",params:{category:this.categorySelect},query:{input:this.searchInput}})},locate:function(){var e=this;return this.setIsLoading(!0),new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){var c={lat:t.coords.latitude,long:t.coords.longitude};e(c)}))})).then((function(t){e.getLocationCity(t.lat,t.long)}))},getLocationCity:function(e,t){var c=this;this.axios.get("https://api.nlsc.gov.tw/other/TownVillagePointQuery/".concat(t,"/").concat(e)).then((function(e){var t=e.data.ctyName,n=c.citiesName.find((function(e){return e.ch===t}));c.citySelect=n.en,c.setIsLoading(!1)}))}}),watch:{citySelect:{handler:function(){this.toCityDetail()}},categorySelect:{handler:function(){"all"!==this.citySelect&&this.toCityDetail()}}}},C=(c("787d"),c("6b0d")),I=c.n(C);const B=I()(k,[["render",w],["__scopeId","data-v-025e0fb6"]]);t["default"]=B},"787d":function(e,t,c){"use strict";c("06e5")},"7db0":function(e,t,c){"use strict";var n=c("23e7"),i=c("b727").find,a=c("44d2"),o="find",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),n({target:"Array",proto:!0,forced:r},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)}}]);
//# sourceMappingURL=chunk-52e25f7e.7244c786.js.map