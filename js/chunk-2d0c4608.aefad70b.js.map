{"version":3,"sources":["webpack:///./src/views/Hotel/CateringDetail.vue","webpack:///./src/views/Hotel/CateringDetail.vue?0110"],"names":["class","_createElementVNode","id","tabindex","role","aria-labelledby","aria-hidden","_hoisted_17","_hoisted_24","_hoisted_26","_ctx","cityDatas","length","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$options","cityChName","CityName","_hoisted_4","_Fragment","_renderList","item","key","ID","href","onClick","_withModifiers","$event","toDetail","_hoisted_6","_hoisted_7","_hoisted_8","src","Picture","PictureUrl1","alt","PictureDescription1","_hoisted_10","Name","_hoisted_11","_hoisted_12","Address","_hoisted_13","_hoisted_14","_hoisted_15","$data","detailData","_hoisted_16","type","aria-label","_cache","args","closeModal","_hoisted_19","_createBlock","_Transition","name","mode","currentImg","PictureUrl2","PictureDescription2","PictureUrl3","PictureDescription3","_hoisted_23","imgControl","_hoisted_28","_hoisted_29","Description","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","OpenTime","_hoisted_35","_hoisted_36","toGoogleMap","_hoisted_37","_hoisted_38","Class","_hoisted_39","Phone","_component_NoData","computed","mapGetters","cities","find","CityEngName","this","$route","params","city","activityTime","_this$detailData","StartTime","format","Date","EndTime","data","methods","mapActions","loadCityScenicSpot","setIsLoading","getCityCatering","then","catch","err","console","log","$","modal","removeClass","query","Object","keys","lat","Position","PositionLat","lon","PositionLon","window","open","watch","immediate","handler","val","__exports__","render"],"mappings":"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","file":"js/chunk-2d0c4608.aefad70b.js","sourcesContent":["<template>\r\n  <div class=\"container mt-5\" v-if=\"cityDatas.length\">\r\n    <h3 class=\"h5\">\r\n      <span class=\"mdi mdi-triangle text-primary mr-2\"></span>\r\n      {{ cityChName.CityName }}\r\n    </h3>\r\n    <div class=\"row row-cols-2 row-cols-lg-4 row-cols-xl-5 mx-n1\">\r\n      <div class=\"col mb-5 px-1\" v-for=\"item in cityDatas\" :key=\"item.ID\">\r\n        <a\r\n          href=\"#\"\r\n          class=\"d-block text-black h-100\"\r\n          @click.prevent=\"toDetail(item)\"\r\n        >\r\n          <div class=\"card data-card-sm h-100\">\r\n            <div class=\"card-body p-2\">\r\n              <div class=\"data-card-sm-pic\">\r\n                <img\r\n                  :src=\"item.Picture.PictureUrl1\"\r\n                  class=\"card-img-top\"\r\n                  :alt=\"item.Picture.PictureDescription1\"\r\n                />\r\n              </div>\r\n              <h6 class=\"subtitle-1 mt-2\">{{ item.Name }}</h6>\r\n            </div>\r\n            <div class=\"card-footer p-2 subtitle-1\">\r\n              <span class=\"mdi mdi-map-marker text-primary mr-2\">{{\r\n                item.Address\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <nav aria-label=\"分頁選單\">\r\n      <ul class=\"pagination justify-content-center\">\r\n        <li class=\"page-item mx-3\">\r\n          <a\r\n            class=\"page-link btn btn-sm btn-left btn-primary text-white\"\r\n            href=\"#\"\r\n            aria-label=\"Previous\"\r\n          >\r\n            <span class=\"mdi mdi-triangle\"></span>\r\n          </a>\r\n        </li>\r\n        <li class=\"page-item mx-1 active\">\r\n          <a class=\"page-link\" href=\"#\">1</a>\r\n        </li>\r\n\r\n        <li class=\"page-item mx-3\">\r\n          <a\r\n            class=\"page-link btn btn-sm btn-right btn-primary text-white\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n          >\r\n            <span class=\"mdi mdi-triangle\"></span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"detailModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"詳細內容\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\" v-if=\"detailData\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"custom-close btn btn-primary\"\r\n            aria-label=\"關閉\"\r\n            @click=\"closeModal\"\r\n          >\r\n            <span aria-hidden=\"true\" class=\"h3 font-weight-bold mb-0\"\r\n              >&times;</span\r\n            >\r\n          </button>\r\n          <div class=\"modal-body\">\r\n            <transition\r\n              name=\"fade\"\r\n              mode=\"out-in\"\r\n              v-if=\"detailData.Picture.PictureUrl1\"\r\n            >\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl1\"\r\n                :alt=\"detailData.Picture.PictureDescription1\"\r\n                v-if=\"currentImg === 0\"\r\n              />\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl2\"\r\n                :alt=\"detailData.Picture.PictureDescription2\"\r\n                v-else-if=\"currentImg === 2\"\r\n              />\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl3\"\r\n                :alt=\"detailData.Picture.PictureDescription3\"\r\n                v-else-if=\"currentImg === 4 && detailData.Picture.PictureUrl3\"\r\n              />\r\n            </transition>\r\n            <div\r\n              class=\"d-flex justify-content-end mt-4\"\r\n              v-if=\"detailData.Picture.PictureUrl2\"\r\n            >\r\n              <template v-if=\"currentImg > 0\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-white btn-sm btn-left mr-3\"\r\n                  @click=\"imgControl(-1)\"\r\n                >\r\n                  <span class=\"mdi mdi-triangle\"></span>\r\n                </button>\r\n              </template>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-black btn-sm btn-right\"\r\n                @click=\"imgControl(1)\"\r\n              >\r\n                <span class=\"mdi mdi-triangle\"></span>\r\n              </button>\r\n            </div>\r\n            <h3 class=\"h5 my-3\">{{ detailData.Name }}</h3>\r\n            <p class=\"subtitle-1\">{{ detailData.Description }}</p>\r\n            <div class=\"container\">\r\n              <div class=\"row row-cols-1 row-cols-lg-2\">\r\n                <div class=\"col\">\r\n                  <p class=\"subtitle-1\">\r\n                    <span\r\n                      class=\"mdi mdi-clock-time-five-outline text-primary pr-2\"\r\n                    ></span>\r\n                    {{ detailData.OpenTime }}\r\n                  </p>\r\n                  <p class=\"subtitle-1\">\r\n                    <span class=\"mdi mdi-map-marker text-primary  pr-2\"></span>\r\n                    <a\r\n                      href=\"#\"\r\n                      v-if=\"detailData.Address\"\r\n                      @click.prevent=\"toGoogleMap\"\r\n                    >\r\n                      {{ detailData.Address }}\r\n                    </a>\r\n                    <a href=\"#\" @click.prevent=\"toGoogleMap\" v-else\r\n                      >前往 Google map</a\r\n                    >\r\n                  </p>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <p>\r\n                    <span\r\n                      class=\"mdi mdi-food-fork-drink text-primary  pr-2\"\r\n                    ></span>\r\n                    {{ detailData.Class ? detailData.Class : '無分類' }}\r\n                  </p>\r\n                  <p>\r\n                    <span class=\"mdi mdi-phone text-primary  pr-2\"></span>\r\n                    {{ detailData.Phone ? detailData.Phone : '-' }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <NoData v-else />\r\n</template>\r\n<script>\r\nimport cities from '@/assets/cities.json'\r\nimport $ from 'jquery'\r\nimport { format } from 'date-fns'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CateringDetail',\r\n  computed: {\r\n    ...mapGetters({\r\n      cityDatas: 'hotel/cityCatering'\r\n    }),\r\n    cityChName () {\r\n      return cities.find(item => {\r\n        return item.CityEngName === this.$route.params.city\r\n      })\r\n    },\r\n    activityTime () {\r\n      if (this.detailData?.StartTime) {\r\n        return `${format(\r\n          new Date(this.detailData.StartTime),\r\n          'yyyy-MM-dd'\r\n        )} ~ ${format(new Date(this.detailData.EndTime), 'yyyy-MM-dd')}`\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      detailData: null,\r\n      currentImg: 0\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('hotel', ['getCityCatering']),\r\n    ...mapActions(['setIsLoading']),\r\n    loadCityScenicSpot (city) {\r\n      this.setIsLoading(true)\r\n      this.getCityCatering(city)\r\n        .then(() => {\r\n          this.setIsLoading(false)\r\n        })\r\n        .catch(err => {\r\n          this.setIsLoading(false)\r\n          console.log(err)\r\n        })\r\n    },\r\n    toDetail (item) {\r\n      $('#detailModal').modal('show')\r\n      $('.modal-backdrop').removeClass('show fade')\r\n      this.detailData = { ...item }\r\n    },\r\n    closeModal () {\r\n      $('#detailModal').modal('hide')\r\n      this.detailData = null\r\n      this.currentImg = 0\r\n    },\r\n    imgControl (query) {\r\n      if (query === 1) {\r\n        this.currentImg += 2\r\n        if (this.currentImg === Object.keys(this.detailData.Picture).length) {\r\n          this.currentImg = 0\r\n        }\r\n      } else if (query === -1 && this.currentImg > 0) {\r\n        this.currentImg -= 2\r\n      }\r\n    },\r\n    toGoogleMap () {\r\n      const lat = this.detailData.Position.PositionLat\r\n      const lon = this.detailData.Position.PositionLon\r\n      window.open(\r\n        `https://www.google.com/maps/search/?api=1&query=${lat},${lon}`\r\n      )\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.city': {\r\n      immediate: true,\r\n      handler (val) {\r\n        if (val) {\r\n          this.loadCityScenicSpot(val)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CateringDetail.vue?vue&type=template&id=587914ff\"\nimport script from \"./CateringDetail.vue?vue&type=script&lang=js\"\nexport * from \"./CateringDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/Taiwan-Tourism/Taiwan-Tourism/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}