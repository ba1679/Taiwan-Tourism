{"version":3,"sources":["webpack:///./src/views/Scenic/ScenicSpotDetail.vue","webpack:///./src/views/Scenic/ScenicSpotDetail.vue?b2aa","webpack:///./node_modules/core-js/modules/es.array.find.js"],"names":["class","id","tabindex","role","aria-labelledby","aria-hidden","cityDatas","length","cityChName","CityName","item","key","ID","href","toDetail","src","Picture","PictureUrl1","alt","PictureDescription1","Name","Class1","Class2","detailData","type","aria-label","closeModal","name","mode","currentImg","PictureUrl2","PictureDescription2","PictureUrl3","PictureDescription3","imgControl","Description","activityTime","OpenTime","Address","toGoogleMap","Charge","Phone","computed","isMobile","cities","find","CityEngName","$route","params","city","this","StartTime","format","Date","EndTime","data","methods","loadCityScenicSpot","setIsLoading","getCityScenicSpot","then","catch","err","console","log","modal","removeClass","lat","Position","PositionLat","lon","PositionLon","window","open","watch","immediate","handler","val","__exports__","render","$","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-19b0744f.3ca0941f.js","sourcesContent":["<template>\r\n  <div class=\"container mt-5\" v-if=\"cityDatas.length\">\r\n    <h3 class=\"h5\">\r\n      <span class=\"mdi mdi-triangle text-primary mr-2\"></span>\r\n      {{ cityChName.CityName }}\r\n    </h3>\r\n    <div class=\"row row-cols-2 row-cols-lg-4 row-cols-xl-5 mx-n1\">\r\n      <div class=\"col mb-5 px-1\" v-for=\"item in cityDatas\" :key=\"item.ID\">\r\n        <a\r\n          href=\"#\"\r\n          class=\"d-block text-black h-100\"\r\n          @click.prevent=\"toDetail(item, 'catering')\"\r\n        >\r\n          <div class=\"card data-card-sm h-100\">\r\n            <div class=\"card-body p-2\">\r\n              <div class=\"data-card-sm-pic\">\r\n                <img\r\n                  :src=\"item.Picture.PictureUrl1\"\r\n                  class=\"card-img-top\"\r\n                  :alt=\"item.Picture.PictureDescription1\"\r\n                />\r\n              </div>\r\n              <h6 class=\"subtitle-1 mt-2\">{{ item.Name }}</h6>\r\n            </div>\r\n            <div class=\"card-footer p-2\">\r\n              <span class=\"badge badge-primary mr-2\">{{ item.Class1 }}</span>\r\n              <span class=\"badge badge-primary\">{{ item.Class2 }}</span>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <nav aria-label=\"分頁選單\">\r\n      <ul class=\"pagination justify-content-center\">\r\n        <li class=\"page-item mx-3\">\r\n          <a\r\n            class=\"page-link btn btn-sm btn-left btn-primary text-white\"\r\n            href=\"#\"\r\n            aria-label=\"Previous\"\r\n          >\r\n            <span class=\"mdi mdi-triangle\"></span>\r\n          </a>\r\n        </li>\r\n        <li class=\"page-item mx-1 active\">\r\n          <a class=\"page-link\" href=\"#\">1</a>\r\n        </li>\r\n\r\n        <li class=\"page-item mx-3\">\r\n          <a\r\n            class=\"page-link btn btn-sm btn-right btn-primary text-white\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n          >\r\n            <span class=\"mdi mdi-triangle\"></span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"detailModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"詳細內容\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\" v-if=\"detailData\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"custom-close btn btn-primary \"\r\n            aria-label=\"關閉\"\r\n            @click=\"closeModal\"\r\n          >\r\n            <span aria-hidden=\"true\" class=\"h3 font-weight-bold mb-0\"\r\n              >&times;</span\r\n            >\r\n          </button>\r\n          <div class=\"modal-body\">\r\n            <transition\r\n              name=\"fade\"\r\n              mode=\"out-in\"\r\n              v-if=\"detailData.Picture.PictureUrl1\"\r\n            >\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl1\"\r\n                :alt=\"detailData.Picture.PictureDescription1\"\r\n                v-if=\"currentImg === 0\"\r\n              />\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl2\"\r\n                :alt=\"detailData.Picture.PictureDescription2\"\r\n                v-else-if=\"currentImg === 2\"\r\n              />\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl3\"\r\n                :alt=\"detailData.Picture.PictureDescription3\"\r\n                v-else-if=\"currentImg === 4\"\r\n              />\r\n            </transition>\r\n            <div\r\n              class=\"d-flex justify-content-end mt-4\"\r\n              v-if=\"\r\n                detailData.type === 'activity' && detailData.Picture.PictureUrl2\r\n              \"\r\n            >\r\n              <template v-if=\"currentImg > 0\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-white btn-sm btn-left mr-3\"\r\n                  @click=\"imgControl(-1)\"\r\n                >\r\n                  <span class=\"mdi mdi-triangle\"></span>\r\n                </button>\r\n              </template>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-black btn-sm btn-right\"\r\n                @click=\"imgControl(1)\"\r\n              >\r\n                <span class=\"mdi mdi-triangle\"></span>\r\n              </button>\r\n            </div>\r\n            <h3 class=\"h5 my-3\">{{ detailData.Name }}</h3>\r\n            <p class=\"subtitle-1\">{{ detailData.Description }}</p>\r\n            <div class=\"container\">\r\n              <div class=\"row row-cols-1 row-cols-lg-2\">\r\n                <div class=\"col\">\r\n                  <p\r\n                    class=\"subtitle-1\"\r\n                    v-if=\"activityTime || detailData.OpenTime\"\r\n                  >\r\n                    <span\r\n                      class=\"mdi mdi-clock-time-five-outline text-primary pr-2\"\r\n                    ></span>\r\n                    {{ activityTime ? activityTime : detailData.OpenTime }}\r\n                  </p>\r\n                  <p class=\"subtitle-1\">\r\n                    <span class=\"mdi mdi-map-marker text-primary  pr-2\"></span>\r\n                    <a\r\n                      href=\"#\"\r\n                      v-if=\"detailData.Address\"\r\n                      @click.prevent=\"toGoogleMap\"\r\n                    >\r\n                      {{ detailData.Address }}\r\n                    </a>\r\n                    <a href=\"#\" @click.prevent=\"toGoogleMap\" v-else\r\n                      >前往 Google map</a\r\n                    >\r\n                  </p>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <p>\r\n                    <span\r\n                      class=\"mdi mdi-ticket-confirmation-outline text-primary  pr-2\"\r\n                    ></span>\r\n                    {{ detailData.Charge ? `NT$${detailData.Charge}` : '免費' }}\r\n                  </p>\r\n                  <p>\r\n                    <span class=\"mdi mdi-phone text-primary  pr-2\"></span>\r\n                    {{ detailData.Phone ? detailData.Phone : '-' }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <NoData v-else />\r\n</template>\r\n<script>\r\nimport cities from '@/assets/cities.json'\r\nimport $ from 'jquery'\r\nimport { format } from 'date-fns'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'ScenicSpotDetail',\r\n  computed: {\r\n    ...mapGetters({\r\n      isMobile: 'isMobile',\r\n      cityDatas: 'scenic/cityScenicSpot'\r\n    }),\r\n    cityChName () {\r\n      return cities.find(item => {\r\n        return item.CityEngName === this.$route.params.city\r\n      })\r\n    },\r\n    activityTime () {\r\n      if (this.detailData?.StartTime) {\r\n        return `${format(\r\n          new Date(this.detailData.StartTime),\r\n          'yyyy-MM-dd'\r\n        )} ~ ${format(new Date(this.detailData.EndTime), 'yyyy-MM-dd')}`\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      detailData: null,\r\n      currentImg: 0\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('scenic', ['getCityScenicSpot']),\r\n    ...mapActions(['setIsLoading']),\r\n    loadCityScenicSpot (city) {\r\n      this.setIsLoading(true)\r\n      this.getCityScenicSpot(city)\r\n        .then(() => {\r\n          this.setIsLoading(false)\r\n        })\r\n        .catch(err => {\r\n          this.setIsLoading(false)\r\n          console.log(err)\r\n        })\r\n    },\r\n    toDetail (item, type) {\r\n      $('#detailModal').modal('show')\r\n      $('.modal-backdrop').removeClass('show fade')\r\n      this.detailData = { ...item }\r\n      if (type === 'activity') {\r\n        this.detailData.type = 'activity'\r\n      } else {\r\n        this.detailData.type = 'catering'\r\n      }\r\n    },\r\n    closeModal () {\r\n      $('#detailModal').modal('hide')\r\n      this.detailData = null\r\n      this.currentImg = 0\r\n    },\r\n    toGoogleMap () {\r\n      const lat = this.detailData.Position.PositionLat\r\n      const lon = this.detailData.Position.PositionLon\r\n      window.open(\r\n        `https://www.google.com/maps/search/?api=1&query=${lat},${lon}`\r\n      )\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.city': {\r\n      immediate: true,\r\n      handler (val) {\r\n        if (val) {\r\n          this.loadCityScenicSpot(val)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ScenicSpotDetail.vue?vue&type=template&id=afdf36a0\"\nimport script from \"./ScenicSpotDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ScenicSpotDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\shinh\\\\OneDrive\\\\Desktop\\\\the f2end\\\\Taiwan-Tourism\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n"],"sourceRoot":""}