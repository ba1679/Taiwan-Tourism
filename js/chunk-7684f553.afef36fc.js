(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7684f553"],{"06e5":function(e,t,c){},"34eb":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-025e0fb6"),e=e(),Object(a["popScopeId"])(),e),i={class:"scenic-spot"},l={class:"container-fluid header-bg position-relative py-3"},n=o(()=>Object(a["createElementVNode"])("span",{class:"text-primary"},"Taiwan°",-1)),s=o(()=>Object(a["createElementVNode"])("p",{class:"subtitle-1 text-left"}," 臺北、臺中、臺南、屏東、宜蘭……遊遍臺灣 ",-1)),r={class:"d-flex align-items-center"},d=["disabled"],b=o(()=>Object(a["createElementVNode"])("span",{class:"mdi mdi-24px mdi-search-web"},null,-1)),m=[b],p={class:"d-flex align-items-center mt-2"},h={class:"d-flex w-100"},u=o(()=>Object(a["createElementVNode"])("option",{disabled:""},"類別",-1)),O=o(()=>Object(a["createElementVNode"])("option",{selected:"",value:"scenicSpot"},"景點",-1)),j=o(()=>Object(a["createElementVNode"])("option",{value:"activity"},"活動",-1)),g=[u,O,j],y=o(()=>Object(a["createElementVNode"])("option",{selected:"",value:"all"},"不分縣市",-1)),v=["value"],S=o(()=>Object(a["createElementVNode"])("span",{class:"mdi mdi-24px mdi-map-marker"},null,-1)),N=[S];function V(e,t,c,o,b,u){const O=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["scenic-spot-bg",b.headerBg])},[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["container w-50 text-white",{"w-100":e.isMobile}])},[Object(a["createElementVNode"])("h2",{class:Object(a["normalizeClass"])(["h1 font-weight-bold",{"text-center":e.isMobile}])},[Object(a["createTextVNode"])(" Welcome to "),n],2),s,Object(a["createElementVNode"])("div",r,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入想去的縣市 例: 臺中市","aria-label":"請輸入想去的縣市 例: 臺中市","onUpdate:modelValue":t[0]||(t[0]=e=>b.searchInput=e),onKeyup:t[1]||(t[1]=Object(a["withKeys"])((...e)=>u.searchData&&u.searchData(...e),["enter"]))},null,544),[[a["vModelText"],b.searchInput]]),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-primary ml-2",onClick:t[2]||(t[2]=(...e)=>u.searchData&&u.searchData(...e)),disabled:!b.searchInput},m,8,d)]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",h,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"custom-select select-icon mr-1","onUpdate:modelValue":t[3]||(t[3]=e=>b.categorySelect=e)},g,512),[[a["vModelSelect"],b.categorySelect]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"custom-select select-icon","onUpdate:modelValue":t[4]||(t[4]=e=>b.citySelect=e)},[y,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.citiesName,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e.en},Object(a["toDisplayString"])(e.ch),9,v))),128))],512),[[a["vModelSelect"],b.citySelect]])]),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-warning ml-2 text-white",onClick:t[5]||(t[5]=(...e)=>u.locate&&u.locate(...e))},N)])],2)],2)]),Object(a["createVNode"])(O)])}c("14d9");var w=c("5502");const E=(new Date).getHours();var f={name:"ScenicSpot",computed:{...Object(w["c"])({isMobile:"isMobile",citiesName:"cityOptions"})},data(){return{citySelect:"all",categorySelect:"scenicSpot",searchInput:"",headerBg:{"bg-moring":E>0&&E<12,"bg-afternoon":E>=12&&E<15,"bg-evening":E>=15&&E<18,"bg-night":E>=18||0===E}}},methods:{...Object(w["b"])(["setIsLoading"]),toCityDetail(){"scenicSpot"===this.categorySelect?this.$router.push({name:"ScenicSpotDetail",params:{city:this.citySelect}}):this.$router.push({name:"ActivitiesDetail",params:{city:this.citySelect}})},searchData(){this.$router.push({name:"scenicSearch",params:{category:this.categorySelect},query:{input:this.searchInput}})},locate(){return this.setIsLoading(!0),new Promise(e=>{navigator.geolocation.getCurrentPosition((function(t){const c={lat:t.coords.latitude,long:t.coords.longitude};e(c)}))}).then(e=>{this.getLocationCity(e.lat,e.long)})},getLocationCity(e,t){this.axios.get(`https://api.nlsc.gov.tw/other/TownVillagePointQuery/${t}/${e}`).then(e=>{const t=e.data.ctyName,c=this.citiesName.find(e=>e.ch===t);this.citySelect=c.en,this.setIsLoading(!1)})}},watch:{citySelect:{handler(){this.toCityDetail()}},categorySelect:{handler(){"all"!==this.citySelect&&this.toCityDetail()}}}},D=(c("787d"),c("6b0d")),x=c.n(D);const k=x()(f,[["render",V],["__scopeId","data-v-025e0fb6"]]);t["default"]=k},"787d":function(e,t,c){"use strict";c("06e5")}}]);
//# sourceMappingURL=chunk-7684f553.afef36fc.js.map