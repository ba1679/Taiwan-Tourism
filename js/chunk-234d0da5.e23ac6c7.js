(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-234d0da5"],{"351f":function(e,t,c){},8025:function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-3c3a0d26"),e=e(),Object(a["popScopeId"])(),e),l={class:"accommodation"},i={class:"container-fluid header-bg position-relative py-3"},n={class:"accommodation-bg"},s=o(()=>Object(a["createElementVNode"])("span",{class:"text-primary"},"Taiwan°",-1)),r=o(()=>Object(a["createElementVNode"])("p",{class:"subtitle-1 text-left"}," 臺北、臺中、臺南、屏東、宜蘭……遊遍臺灣 ",-1)),d={class:"d-flex align-items-center"},m=["disabled"],b=o(()=>Object(a["createElementVNode"])("span",{class:"mdi mdi-24px mdi-search-web"},null,-1)),h=[b],p={class:"d-flex align-items-center mt-2"},u={class:"d-flex w-100"},O=o(()=>Object(a["createElementVNode"])("option",{disabled:""},"類別",-1)),j=o(()=>Object(a["createElementVNode"])("option",{selected:"",value:"catering"},"美食",-1)),y=o(()=>Object(a["createElementVNode"])("option",{value:"hotel"},"住宿",-1)),g=[O,j,y],v=o(()=>Object(a["createElementVNode"])("option",{selected:"",value:"all"},"不分縣市",-1)),N=["value"],V=o(()=>Object(a["createElementVNode"])("span",{class:"mdi mdi-24px mdi-map-marker"},null,-1)),w=[V];function E(e,t,c,o,b,O){const j=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["container w-50 text-white",{"w-100":e.isMobile}])},[Object(a["createElementVNode"])("h2",{class:Object(a["normalizeClass"])(["h1 font-weight-bold",{"text-center":e.isMobile}])},[Object(a["createTextVNode"])(" Welcome to "),s],2),r,Object(a["createElementVNode"])("div",d,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入想去的縣市 例: 臺中市","aria-label":"請輸入想去的縣市 例: 臺中市","onUpdate:modelValue":t[0]||(t[0]=e=>b.searchInput=e),onKeyup:t[1]||(t[1]=Object(a["withKeys"])((...e)=>O.searchData&&O.searchData(...e),["enter"]))},null,544),[[a["vModelText"],b.searchInput,void 0,{trim:!0}]]),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-primary ml-2",onClick:t[2]||(t[2]=(...e)=>O.searchData&&O.searchData(...e)),disabled:!b.searchInput},h,8,m)]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",u,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"custom-select select-icon mr-1","onUpdate:modelValue":t[3]||(t[3]=e=>b.categorySelect=e)},g,512),[[a["vModelSelect"],b.categorySelect]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{class:"custom-select select-icon","onUpdate:modelValue":t[4]||(t[4]=e=>b.citySelect=e)},[v,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.citiesName,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("option",{key:e,value:e.en},Object(a["toDisplayString"])(e.ch),9,N))),128))],512),[[a["vModelSelect"],b.citySelect]])]),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-warning ml-2 text-white",onClick:t[5]||(t[5]=(...e)=>O.locate&&O.locate(...e))},w)])],2)])]),Object(a["createVNode"])(j)])}c("14d9");var S=c("5502"),f={name:"Accomodation",computed:{...Object(S["c"])({isMobile:"isMobile",citiesName:"cityOptions"})},data(){return{citySelect:"all",categorySelect:"catering",searchInput:""}},methods:{...Object(S["b"])(["setIsLoading"]),toCityDetail(){"catering"===this.categorySelect?this.$router.push({name:"CateringDetail",params:{city:this.citySelect}}):this.$router.push({name:"HotelDetail",params:{city:this.citySelect}})},searchData(){this.$router.push({name:"hotelSearch",params:{category:this.categorySelect},query:{input:this.searchInput}})},locate(){return this.setIsLoading(!0),new Promise(e=>{navigator.geolocation.getCurrentPosition((function(t){const c={lat:t.coords.latitude,long:t.coords.longitude};e(c)}))}).then(e=>{this.getLocationCity(e.lat,e.long)})},getLocationCity(e,t){this.axios.get(`https://api.nlsc.gov.tw/other/TownVillagePointQuery/${t}/${e}`).then(e=>{const t=e.data.ctyName,c=this.citiesName.find(e=>e.ch===t);this.citySelect=c.en,this.setIsLoading(!1)})}},watch:{citySelect:{handler(){this.toCityDetail()}},categorySelect:{handler(){"all"!==this.citySelect&&this.toCityDetail()}}}},x=(c("b98a"),c("6b0d")),D=c.n(x);const k=D()(f,[["render",E],["__scopeId","data-v-3c3a0d26"]]);t["default"]=k},b98a:function(e,t,c){"use strict";c("351f")}}]);
//# sourceMappingURL=chunk-234d0da5.e23ac6c7.js.map