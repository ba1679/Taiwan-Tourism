{"version":3,"sources":["webpack:///./src/views/Scenic/ScenicIndex.vue","webpack:///./src/views/Scenic/ScenicIndex.vue?4fbe","webpack:///./src/views/Scenic/ScenicIndex.vue?5f16","webpack:///./node_modules/core-js/modules/es.array.find.js"],"names":["class","disabled","selected","value","headerBg","isMobile","type","placeholder","aria-label","searchInput","searchData","categorySelect","citySelect","citiesName","city","key","en","ch","locate","nowHour","Date","getHours","name","computed","data","methods","toCityDetail","this","$router","push","params","category","query","input","setIsLoading","Promise","resolve","navigator","geolocation","getCurrentPosition","position","positionObj","lat","coords","latitude","long","longitude","then","res","getLocationCity","axios","get","ctyName","enCity","find","item","watch","handler","__exports__","render","$","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-52e25f7e.7244c786.js","sourcesContent":["<template>\n  <div class=\"scenic-spot\">\n    <div class=\"container-fluid header-bg position-relative py-3\">\n      <div class=\"scenic-spot-bg\" :class=\"headerBg\">\n        <div class=\"container w-50 text-white\" :class=\"{ 'w-100': isMobile }\">\n          <h2 class=\"h1 font-weight-bold\" :class=\"{ 'text-center': isMobile }\">\n            Welcome to <span class=\"text-primary\">Taiwan°</span>\n          </h2>\n          <p class=\"subtitle-1 text-left\">\n            臺北、臺中、臺南、屏東、宜蘭……遊遍臺灣\n          </p>\n          <div class=\"d-flex align-items-center\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入想去的縣市 例: 臺中市\"\n              aria-label=\"請輸入想去的縣市 例: 臺中市\"\n              v-model=\"searchInput\"\n              @keyup.enter=\"searchData\"\n            />\n            <button\n              type=\"button\"\n              class=\"btn btn-primary ml-2\"\n              @click=\"searchData\"\n              :disabled=\"!searchInput\"\n            >\n              <span class=\"mdi mdi-24px mdi-search-web\"></span>\n            </button>\n          </div>\n          <div class=\"d-flex align-items-center mt-2\">\n            <div class=\"d-flex w-100\">\n              <select\n                class=\"custom-select select-icon mr-1\"\n                v-model=\"categorySelect\"\n              >\n                <option disabled>類別</option>\n                <option selected value=\"scenicSpot\">景點</option>\n                <option value=\"activity\">活動</option>\n              </select>\n              <select class=\"custom-select select-icon\" v-model=\"citySelect\">\n                <option selected value=\"all\">不分縣市</option>\n                <option v-for=\"city in citiesName\" :key=\"city\" :value=\"city.en\">\n                  {{ city.ch }}\n                </option>\n              </select>\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn btn-warning ml-2 text-white\"\n              @click=\"locate\"\n            >\n              <span class=\"mdi mdi-24px mdi-map-marker\"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Hot/detail/search -->\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nconst nowHour = new Date().getHours()\n\nexport default {\n  name: 'ScenicSpot',\n  computed: {\n    ...mapGetters({\n      isMobile: 'isMobile',\n      citiesName: 'cityOptions'\n    })\n  },\n  data () {\n    return {\n      citySelect: 'all',\n      categorySelect: 'scenicSpot',\n      searchInput: '',\n      headerBg: {\n        'bg-moring': nowHour > 0 && nowHour < 12,\n        'bg-afternoon': nowHour >= 12 && nowHour < 15,\n        'bg-evening': nowHour >= 15 && nowHour < 18,\n        'bg-night': nowHour >= 18 || nowHour === 0\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['setIsLoading']),\n    toCityDetail () {\n      if (this.categorySelect === 'scenicSpot') {\n        this.$router.push({\n          name: 'ScenicSpotDetail',\n          params: { city: this.citySelect }\n        })\n      } else {\n        this.$router.push({\n          name: 'ActivitiesDetail',\n          params: { city: this.citySelect }\n        })\n      }\n    },\n    searchData () {\n      this.$router.push({\n        name: 'scenicSearch',\n        params: { category: this.categorySelect },\n        query: { input: this.searchInput }\n      })\n    },\n    locate () {\n      this.setIsLoading(true)\n      return new Promise(resolve => {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          const positionObj = {\n            lat: position.coords.latitude,\n            long: position.coords.longitude\n          }\n          resolve(positionObj)\n        })\n      }).then(res => {\n        this.getLocationCity(res.lat, res.long)\n      })\n    },\n    getLocationCity (lat, long) {\n      this.axios\n        .get(\n          `https://api.nlsc.gov.tw/other/TownVillagePointQuery/${long}/${lat}`\n        )\n        .then(res => {\n          const city = res.data.ctyName\n          const enCity = this.citiesName.find(item => {\n            return item.ch === city\n          })\n          this.citySelect = enCity.en\n          this.setIsLoading(false)\n        })\n    }\n  },\n  watch: {\n    citySelect: {\n      handler () {\n        this.toCityDetail()\n      }\n    },\n    categorySelect: {\n      handler () {\n        if (this.citySelect !== 'all') {\n          this.toCityDetail()\n        }\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.scenic-spot-bg {\n  width: 100%;\n  min-height: 491px;\n  background-position: center center;\n  background-size: cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.bg-moring {\n  background-image: url(~@/assets/images/scenic-moring.jpg);\n}\n.bg-afternoon {\n  background-image: url(~@/assets/images/scenic-afternoon.jpg);\n}\n.bg-evening {\n  background-image: url(~@/assets/images/scenic-evening.jpg);\n}\n.bg-night {\n  background-image: url(~@/assets/images/scenic-night.png);\n}\n</style>\n","import { render } from \"./ScenicIndex.vue?vue&type=template&id=025e0fb6&scoped=true\"\nimport script from \"./ScenicIndex.vue?vue&type=script&lang=js\"\nexport * from \"./ScenicIndex.vue?vue&type=script&lang=js\"\n\nimport \"./ScenicIndex.vue?vue&type=style&index=0&id=025e0fb6&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\shinh\\\\OneDrive\\\\Desktop\\\\the f2end\\\\Taiwan-Tourism\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-025e0fb6\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ScenicIndex.vue?vue&type=style&index=0&id=025e0fb6&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n"],"sourceRoot":""}