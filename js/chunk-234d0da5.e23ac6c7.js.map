{"version":3,"sources":["webpack:///./src/views/Hotel/HotelIndex.vue","webpack:///./src/views/Hotel/HotelIndex.vue?4b65","webpack:///./src/views/Hotel/HotelIndex.vue?d151"],"names":["class","_createElementVNode","_hoisted_8","disabled","selected","value","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_18","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","_ctx","isMobile","_hoisted_4","_hoisted_5","_hoisted_6","type","placeholder","aria-label","$data","searchInput","$event","onKeyup","_cache","_withKeys","args","$options","searchData","onClick","_hoisted_10","_hoisted_11","categorySelect","citySelect","_hoisted_16","_Fragment","_renderList","citiesName","city","key","en","ch","_hoisted_17","locate","_createVNode","_component_router_view","name","computed","mapGetters","data","methods","mapActions","toCityDetail","this","$router","push","params","category","query","input","setIsLoading","Promise","resolve","navigator","geolocation","getCurrentPosition","position","positionObj","lat","coords","latitude","long","longitude","then","res","getLocationCity","axios","get","ctyName","enCity","find","item","watch","handler","__exports__","render"],"mappings":"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","file":"js/chunk-234d0da5.e23ac6c7.js","sourcesContent":["<template>\n  <div class=\"accommodation\">\n    <div class=\"container-fluid header-bg position-relative py-3\">\n      <div class=\"accommodation-bg\">\n        <div class=\"container w-50 text-white\" :class=\"{ 'w-100': isMobile }\">\n          <h2 class=\"h1 font-weight-bold\" :class=\"{ 'text-center': isMobile }\">\n            Welcome to <span class=\"text-primary\">Taiwan°</span>\n          </h2>\n          <p class=\"subtitle-1 text-left\">\n            臺北、臺中、臺南、屏東、宜蘭……遊遍臺灣\n          </p>\n          <div class=\"d-flex align-items-center\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入想去的縣市 例: 臺中市\"\n              aria-label=\"請輸入想去的縣市 例: 臺中市\"\n              v-model.trim=\"searchInput\"\n              @keyup.enter=\"searchData\"\n            />\n            <button\n              type=\"button\"\n              class=\"btn btn-primary ml-2\"\n              @click=\"searchData\"\n              :disabled=\"!searchInput\"\n            >\n              <span class=\"mdi mdi-24px mdi-search-web\"></span>\n            </button>\n          </div>\n          <div class=\"d-flex align-items-center mt-2\">\n            <div class=\"d-flex w-100\">\n              <select\n                class=\"custom-select select-icon mr-1\"\n                v-model=\"categorySelect\"\n              >\n                <option disabled>類別</option>\n                <option selected value=\"catering\">美食</option>\n                <option value=\"hotel\">住宿</option>\n              </select>\n              <select class=\"custom-select select-icon\" v-model=\"citySelect\">\n                <option selected value=\"all\">不分縣市</option>\n                <option v-for=\"city in citiesName\" :key=\"city\" :value=\"city.en\">\n                  {{ city.ch }}\n                </option>\n              </select>\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn btn-warning ml-2 text-white\"\n              @click=\"locate\"\n            >\n              <span class=\"mdi mdi-24px mdi-map-marker\"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Hot/detail/search -->\n    <router-view></router-view>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nexport default {\n  name: 'Accomodation',\n  computed: {\n    ...mapGetters({\n      isMobile: 'isMobile',\n      citiesName: 'cityOptions'\n    })\n  },\n  data () {\n    return {\n      citySelect: 'all',\n      categorySelect: 'catering',\n      searchInput: ''\n    }\n  },\n  methods: {\n    ...mapActions(['setIsLoading']),\n    toCityDetail () {\n      if (this.categorySelect === 'catering') {\n        this.$router.push({\n          name: 'CateringDetail',\n          params: { city: this.citySelect }\n        })\n      } else {\n        this.$router.push({\n          name: 'HotelDetail',\n          params: { city: this.citySelect }\n        })\n      }\n    },\n    searchData () {\n      this.$router.push({\n        name: 'hotelSearch',\n        params: { category: this.categorySelect },\n        query: { input: this.searchInput }\n      })\n    },\n    locate () {\n      this.setIsLoading(true)\n      return new Promise(resolve => {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          const positionObj = {\n            lat: position.coords.latitude,\n            long: position.coords.longitude\n          }\n          resolve(positionObj)\n        })\n      }).then(res => {\n        this.getLocationCity(res.lat, res.long)\n      })\n    },\n    getLocationCity (lat, long) {\n      this.axios\n        .get(\n          `https://api.nlsc.gov.tw/other/TownVillagePointQuery/${long}/${lat}`\n        )\n        .then(res => {\n          const city = res.data.ctyName\n          const enCity = this.citiesName.find(item => {\n            return item.ch === city\n          })\n          this.citySelect = enCity.en\n          this.setIsLoading(false)\n        })\n    }\n  },\n  watch: {\n    citySelect: {\n      handler () {\n        this.toCityDetail()\n      }\n    },\n    categorySelect: {\n      handler () {\n        if (this.citySelect !== 'all') {\n          this.toCityDetail()\n        }\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.accommodation-bg {\n  width: 100%;\n  min-height: 491px;\n  background-image: url(~@/assets/images/food_accommodation.png);\n  background-position: center center;\n  background-size: cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n</style>\n","import { render } from \"./HotelIndex.vue?vue&type=template&id=3c3a0d26&scoped=true\"\nimport script from \"./HotelIndex.vue?vue&type=script&lang=js\"\nexport * from \"./HotelIndex.vue?vue&type=script&lang=js\"\n\nimport \"./HotelIndex.vue?vue&type=style&index=0&id=3c3a0d26&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/Taiwan-Tourism/Taiwan-Tourism/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c3a0d26\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./HotelIndex.vue?vue&type=style&index=0&id=3c3a0d26&lang=scss&scoped=true\""],"sourceRoot":""}