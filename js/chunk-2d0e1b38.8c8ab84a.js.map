{"version":3,"sources":["webpack:///./src/views/Scenic/ActivitiesDetail.vue","webpack:///./src/views/Scenic/ActivitiesDetail.vue?8e8d"],"names":["class","_createElementVNode","src","alt","id","tabindex","role","aria-labelledby","aria-hidden","_hoisted_21","_hoisted_28","_hoisted_30","_ctx","cityDatas","length","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$options","cityChName","CityName","_hoisted_4","_Fragment","_renderList","activity","key","ID","_hoisted_5","_hoisted_6","_hoisted_7","Picture","PictureUrl1","PictureDescription1","_hoisted_9","_hoisted_10","Name","isMobile","_hoisted_11","Description","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","Location","onClick","$event","toDetail","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","$data","detailData","_hoisted_20","type","aria-label","_cache","args","closeModal","_hoisted_23","_createBlock","_Transition","name","mode","currentImg","PictureUrl2","PictureDescription2","PictureUrl3","PictureDescription3","_hoisted_27","imgControl","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","activityTime","OpenTime","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","Address","href","_withModifiers","toGoogleMap","_hoisted_41","_hoisted_42","Charge","_hoisted_43","Phone","_component_NoData","computed","mapGetters","cities","find","item","CityEngName","this","$route","params","city","_this$detailData","StartTime","format","Date","EndTime","data","methods","mapActions","loadCityActivity","setIsLoading","getCityActivity","then","catch","err","console","log","$","modal","removeClass","lat","Position","PositionLat","lon","PositionLon","window","open","query","Object","keys","watch","immediate","handler","val","__exports__","render"],"mappings":"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","file":"js/chunk-2d0e1b38.8c8ab84a.js","sourcesContent":["<template>\r\n  <div class=\"container mt-5\" v-if=\"cityDatas.length\">\r\n    <h3 class=\"h5\">\r\n      <span class=\"mdi mdi-triangle text-primary mr-2\"></span>\r\n      {{ cityChName.CityName }}\r\n    </h3>\r\n    <div class=\"row row-cols-1 row-cols-lg-2\">\r\n      <div class=\"col mb-5\" v-for=\"activity in cityDatas\" :key=\"activity.ID\">\r\n        <div class=\"card data-card h-100\">\r\n          <div class=\"card-body d-flex\">\r\n            <div class=\"data-card-pic\">\r\n              <template v-if=\"activity.Picture.PictureUrl1\">\r\n                <img\r\n                  :src=\"activity.Picture.PictureUrl1\"\r\n                  :alt=\"activity.Picture.PictureDescription1\"\r\n                />\r\n              </template>\r\n              <template v-else>\r\n                <img\r\n                  src=\"https://boatatfood.com/templates/ArtFraming/images/ProductDefault.gif\"\r\n                  alt=\"暫無圖片\"\r\n                />\r\n              </template>\r\n            </div>\r\n            <div class=\"d-flex flex-column ml-3 w-60 justify-content-between\">\r\n              <h6>{{ activity.Name }}</h6>\r\n              <p class=\"data-card-content text-truncate mb-1\" v-if=\"!isMobile\">\r\n                {{ activity.Description }}\r\n              </p>\r\n              <div class=\"card-footer p-0 d-flex justify-content-between\">\r\n                <div class=\"d-flex align-items-center\">\r\n                  <template v-if=\"!isMobile\">\r\n                    <span class=\"mdi mdi-map-marker text-primary mr-2\"></span>\r\n                    <div class=\"subtitle-1\">{{ activity.Location }}</div>\r\n                  </template>\r\n                </div>\r\n                <button\r\n                  class=\"btn btn-outline-primary subtitle-1\"\r\n                  @click=\"toDetail(activity, 'activity')\"\r\n                >\r\n                  活動詳情\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <nav aria-label=\"分頁選單\">\r\n      <ul class=\"pagination justify-content-center\">\r\n        <li class=\"page-item mx-3\">\r\n          <a\r\n            class=\"page-link btn btn-sm btn-left btn-primary text-white\"\r\n            href=\"#\"\r\n            aria-label=\"Previous\"\r\n          >\r\n            <span class=\"mdi mdi-triangle\"></span>\r\n          </a>\r\n        </li>\r\n        <li class=\"page-item mx-1 active\">\r\n          <a class=\"page-link\" href=\"#\">1</a>\r\n        </li>\r\n\r\n        <li class=\"page-item mx-3\">\r\n          <a\r\n            class=\"page-link btn btn-sm btn-right btn-primary text-white\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n          >\r\n            <span class=\"mdi mdi-triangle\"></span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"detailModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"詳細內容\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\" v-if=\"detailData\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"custom-close btn btn-primary\"\r\n            aria-label=\"關閉\"\r\n            @click=\"closeModal\"\r\n          >\r\n            <span aria-hidden=\"true\" class=\"h3 font-weight-bold mb-0\"\r\n              >&times;</span\r\n            >\r\n          </button>\r\n          <div class=\"modal-body\">\r\n            <transition\r\n              name=\"fade\"\r\n              mode=\"out-in\"\r\n              v-if=\"detailData.Picture.PictureUrl1\"\r\n            >\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl1\"\r\n                :alt=\"detailData.Picture.PictureDescription1\"\r\n                v-if=\"currentImg === 0\"\r\n              />\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl2\"\r\n                :alt=\"detailData.Picture.PictureDescription2\"\r\n                v-else-if=\"currentImg === 2\"\r\n              />\r\n              <img\r\n                class=\"w-100\"\r\n                :src=\"detailData.Picture.PictureUrl3\"\r\n                :alt=\"detailData.Picture.PictureDescription3\"\r\n                v-else-if=\"currentImg === 4\"\r\n              />\r\n            </transition>\r\n            <div\r\n              class=\"d-flex justify-content-end mt-4\"\r\n              v-if=\"\r\n                detailData.type === 'activity' && detailData.Picture.PictureUrl2\r\n              \"\r\n            >\r\n              <template v-if=\"currentImg > 0\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-white btn-sm btn-left mr-3\"\r\n                  @click=\"imgControl(-1)\"\r\n                >\r\n                  <span class=\"mdi mdi-triangle\"></span>\r\n                </button>\r\n              </template>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-black btn-sm btn-right\"\r\n                @click=\"imgControl(1)\"\r\n              >\r\n                <span class=\"mdi mdi-triangle\"></span>\r\n              </button>\r\n            </div>\r\n            <h3 class=\"h5 my-3\">{{ detailData.Name }}</h3>\r\n            <p class=\"subtitle-1\">{{ detailData.Description }}</p>\r\n            <div class=\"container\">\r\n              <div class=\"row row-cols-1 row-cols-lg-2\">\r\n                <div class=\"col\">\r\n                  <p\r\n                    class=\"subtitle-1\"\r\n                    v-if=\"activityTime || detailData.OpenTime\"\r\n                  >\r\n                    <span\r\n                      class=\"mdi mdi-clock-time-five-outline text-primary pr-2\"\r\n                    ></span>\r\n                    {{ activityTime ? activityTime : detailData.OpenTime }}\r\n                  </p>\r\n                  <p class=\"subtitle-1\">\r\n                    <span class=\"mdi mdi-map-marker text-primary  pr-2\"></span>\r\n                    <a\r\n                      href=\"#\"\r\n                      v-if=\"detailData.Address\"\r\n                      @click.prevent=\"toGoogleMap\"\r\n                    >\r\n                      {{ detailData.Address }}\r\n                    </a>\r\n                    <a href=\"#\" @click.prevent=\"toGoogleMap\" v-else\r\n                      >前往 Google map</a\r\n                    >\r\n                  </p>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <p>\r\n                    <span\r\n                      class=\"mdi mdi-ticket-confirmation-outline text-primary  pr-2\"\r\n                    ></span>\r\n                    {{ detailData.Charge ? `NT$${detailData.Charge}` : '免費' }}\r\n                  </p>\r\n                  <p>\r\n                    <span class=\"mdi mdi-phone text-primary  pr-2\"></span>\r\n                    {{ detailData.Phone ? detailData.Phone : '-' }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <NoData v-else />\r\n</template>\r\n<script>\r\nimport cities from '@/assets/cities.json'\r\nimport $ from 'jquery'\r\nimport { format } from 'date-fns'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'ActivitiesDetail',\r\n  computed: {\r\n    ...mapGetters({\r\n      isMobile: 'isMobile',\r\n      cityDatas: 'scenic/cityActivities'\r\n    }),\r\n    cityChName () {\r\n      return cities.find(item => {\r\n        return item.CityEngName === this.$route.params.city\r\n      })\r\n    },\r\n    activityTime () {\r\n      if (this.detailData?.StartTime) {\r\n        return `${format(\r\n          new Date(this.detailData.StartTime),\r\n          'yyyy-MM-dd'\r\n        )} ~ ${format(new Date(this.detailData.EndTime), 'yyyy-MM-dd')}`\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      detailData: null,\r\n      currentImg: 0\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('scenic', ['getCityActivity']),\r\n    ...mapActions(['setIsLoading']),\r\n    loadCityActivity (city) {\r\n      this.setIsLoading(true)\r\n      this.getCityActivity(city)\r\n        .then(() => {\r\n          this.setIsLoading(false)\r\n        })\r\n        .catch(err => {\r\n          this.setIsLoading(false)\r\n          console.log(err)\r\n        })\r\n    },\r\n    toDetail (item, type) {\r\n      $('#detailModal').modal('show')\r\n      $('.modal-backdrop').removeClass('show fade')\r\n      this.detailData = { ...item }\r\n      if (type === 'activity') {\r\n        this.detailData.type = 'activity'\r\n      } else {\r\n        this.detailData.type = 'catering'\r\n      }\r\n    },\r\n    closeModal () {\r\n      $('#detailModal').modal('hide')\r\n      this.detailData = null\r\n      this.currentImg = 0\r\n    },\r\n    toGoogleMap () {\r\n      const lat = this.detailData.Position.PositionLat\r\n      const lon = this.detailData.Position.PositionLon\r\n      window.open(\r\n        `https://www.google.com/maps/search/?api=1&query=${lat},${lon}`\r\n      )\r\n    },\r\n    imgControl (query) {\r\n      if (query === 1) {\r\n        this.currentImg += 2\r\n        if (this.currentImg === Object.keys(this.detailData.Picture).length) {\r\n          this.currentImg = 0\r\n        }\r\n      } else if (query === -1 && this.currentImg > 0) {\r\n        this.currentImg -= 2\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route: {\r\n      immediate: true,\r\n      handler (val) {\r\n        if (val.params.city) {\r\n          this.loadCityActivity(val.params.city)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ActivitiesDetail.vue?vue&type=template&id=0c58e7dc\"\nimport script from \"./ActivitiesDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ActivitiesDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/Taiwan-Tourism/Taiwan-Tourism/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}