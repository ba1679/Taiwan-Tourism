{"version":3,"sources":["webpack:///./src/views/Scenic/ScenicIndex.vue","webpack:///./src/views/Scenic/ScenicIndex.vue?cabd","webpack:///./src/views/Scenic/ScenicIndex.vue?dfed"],"names":["class","_createElementVNode","_hoisted_7","disabled","selected","value","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_17","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","$data","headerBg","_ctx","isMobile","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","aria-label","searchInput","$event","onKeyup","_cache","_withKeys","args","$options","searchData","onClick","_hoisted_9","_hoisted_10","categorySelect","citySelect","_hoisted_15","_Fragment","_renderList","citiesName","city","key","en","ch","_hoisted_16","locate","_createVNode","_component_router_view","nowHour","Date","getHours","name","computed","mapGetters","data","methods","mapActions","toCityDetail","this","$router","push","params","category","query","input","setIsLoading","Promise","resolve","navigator","geolocation","getCurrentPosition","position","positionObj","lat","coords","latitude","long","longitude","then","res","getLocationCity","axios","get","ctyName","enCity","find","item","watch","handler","__exports__","render"],"mappings":"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","file":"js/chunk-7684f553.afef36fc.js","sourcesContent":["<template>\n  <div class=\"scenic-spot\">\n    <div class=\"container-fluid header-bg position-relative py-3\">\n      <div class=\"scenic-spot-bg\" :class=\"headerBg\">\n        <div class=\"container w-50 text-white\" :class=\"{ 'w-100': isMobile }\">\n          <h2 class=\"h1 font-weight-bold\" :class=\"{ 'text-center': isMobile }\">\n            Welcome to <span class=\"text-primary\">Taiwan°</span>\n          </h2>\n          <p class=\"subtitle-1 text-left\">\n            臺北、臺中、臺南、屏東、宜蘭……遊遍臺灣\n          </p>\n          <div class=\"d-flex align-items-center\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入想去的縣市 例: 臺中市\"\n              aria-label=\"請輸入想去的縣市 例: 臺中市\"\n              v-model=\"searchInput\"\n              @keyup.enter=\"searchData\"\n            />\n            <button\n              type=\"button\"\n              class=\"btn btn-primary ml-2\"\n              @click=\"searchData\"\n              :disabled=\"!searchInput\"\n            >\n              <span class=\"mdi mdi-24px mdi-search-web\"></span>\n            </button>\n          </div>\n          <div class=\"d-flex align-items-center mt-2\">\n            <div class=\"d-flex w-100\">\n              <select\n                class=\"custom-select select-icon mr-1\"\n                v-model=\"categorySelect\"\n              >\n                <option disabled>類別</option>\n                <option selected value=\"scenicSpot\">景點</option>\n                <option value=\"activity\">活動</option>\n              </select>\n              <select class=\"custom-select select-icon\" v-model=\"citySelect\">\n                <option selected value=\"all\">不分縣市</option>\n                <option v-for=\"city in citiesName\" :key=\"city\" :value=\"city.en\">\n                  {{ city.ch }}\n                </option>\n              </select>\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn btn-warning ml-2 text-white\"\n              @click=\"locate\"\n            >\n              <span class=\"mdi mdi-24px mdi-map-marker\"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Hot/detail/search -->\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nconst nowHour = new Date().getHours()\n\nexport default {\n  name: 'ScenicSpot',\n  computed: {\n    ...mapGetters({\n      isMobile: 'isMobile',\n      citiesName: 'cityOptions'\n    })\n  },\n  data () {\n    return {\n      citySelect: 'all',\n      categorySelect: 'scenicSpot',\n      searchInput: '',\n      headerBg: {\n        'bg-moring': nowHour > 0 && nowHour < 12,\n        'bg-afternoon': nowHour >= 12 && nowHour < 15,\n        'bg-evening': nowHour >= 15 && nowHour < 18,\n        'bg-night': nowHour >= 18 || nowHour === 0\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['setIsLoading']),\n    toCityDetail () {\n      if (this.categorySelect === 'scenicSpot') {\n        this.$router.push({\n          name: 'ScenicSpotDetail',\n          params: { city: this.citySelect }\n        })\n      } else {\n        this.$router.push({\n          name: 'ActivitiesDetail',\n          params: { city: this.citySelect }\n        })\n      }\n    },\n    searchData () {\n      this.$router.push({\n        name: 'scenicSearch',\n        params: { category: this.categorySelect },\n        query: { input: this.searchInput }\n      })\n    },\n    locate () {\n      this.setIsLoading(true)\n      return new Promise(resolve => {\n        navigator.geolocation.getCurrentPosition(function (position) {\n          const positionObj = {\n            lat: position.coords.latitude,\n            long: position.coords.longitude\n          }\n          resolve(positionObj)\n        })\n      }).then(res => {\n        this.getLocationCity(res.lat, res.long)\n      })\n    },\n    getLocationCity (lat, long) {\n      this.axios\n        .get(\n          `https://api.nlsc.gov.tw/other/TownVillagePointQuery/${long}/${lat}`\n        )\n        .then(res => {\n          const city = res.data.ctyName\n          const enCity = this.citiesName.find(item => {\n            return item.ch === city\n          })\n          this.citySelect = enCity.en\n          this.setIsLoading(false)\n        })\n    }\n  },\n  watch: {\n    citySelect: {\n      handler () {\n        this.toCityDetail()\n      }\n    },\n    categorySelect: {\n      handler () {\n        if (this.citySelect !== 'all') {\n          this.toCityDetail()\n        }\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.scenic-spot-bg {\n  width: 100%;\n  min-height: 491px;\n  background-position: center center;\n  background-size: cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.bg-moring {\n  background-image: url(~@/assets/images/scenic-moring.jpg);\n}\n.bg-afternoon {\n  background-image: url(~@/assets/images/scenic-afternoon.jpg);\n}\n.bg-evening {\n  background-image: url(~@/assets/images/scenic-evening.jpg);\n}\n.bg-night {\n  background-image: url(~@/assets/images/scenic-night.png);\n}\n</style>\n","import { render } from \"./ScenicIndex.vue?vue&type=template&id=025e0fb6&scoped=true\"\nimport script from \"./ScenicIndex.vue?vue&type=script&lang=js\"\nexport * from \"./ScenicIndex.vue?vue&type=script&lang=js\"\n\nimport \"./ScenicIndex.vue?vue&type=style&index=0&id=025e0fb6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/Taiwan-Tourism/Taiwan-Tourism/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-025e0fb6\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ScenicIndex.vue?vue&type=style&index=0&id=025e0fb6&lang=scss&scoped=true\""],"sourceRoot":""}